var popularSlidesList=document.querySelectorAll(".popular-item"),popularControlsList=document.querySelectorAll(".popular-slider-button");popularControlsList.forEach(function(e,t){popularControlsList[t].addEventListener("click",function(e){popularControlsList.forEach(function(e,t){popularControlsList[t].checked?popularSlidesList[t].classList.remove("popular-slide-hidden"):popularControlsList[t].checked||popularSlidesList[t].classList.add("popular-slide-hidden")})})});var servicesSlidesList=document.querySelectorAll(".services-item"),servicesControlsList=document.querySelectorAll(".services-slider-button");servicesControlsList.forEach(function(e,t){servicesControlsList[t].addEventListener("click",function(e){servicesControlsList.forEach(function(e,t){servicesControlsList[t].checked?servicesSlidesList[t].classList.remove("services-slide-hidden"):servicesControlsList[t].checked||servicesSlidesList[t].classList.add("services-slide-hidden")})})});var writeUsLink=document.querySelector(".button-link-contacts"),writeUsModal=document.querySelector(".modal-feedback"),writeUsClose=writeUsModal.querySelector(".feedback-close"),writeUsForm=writeUsModal.querySelector(".feedback-form"),feedbackName=writeUsModal.querySelector("[name=feedback-name]"),feedbackEmail=writeUsModal.querySelector("[name=feedback-email]"),feedbackText=writeUsModal.querySelector(".textarea-field"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("feedback-name")}catch(e){isStorageSupport=!1}writeUsLink.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.add("modal-show"),feedbackName.removeAttribute("required"),feedbackEmail.removeAttribute("required"),feedbackText.removeAttribute("required"),feedbackName.focus()}),storage?(feedbackName.value=localStorage.getItem("feedback-name").value,feedbackEmail.value=localStorage.getItem("feedback-email").value,feedbackEmail.value?feedbackText.focus():feedbackEmail.focus()):feedbackName.focus(),writeUsForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackText.value?isStorageSupport&&(localStorage.setItem("feedbackName",feedbackName.value),localStorage.setItem("feedbackEmail",feedbackEmail.value)):(e.preventDefault(),writeUsModal.classList.remove("modal-error"),writeUsModal.offsetWidth=writeUsModal.offsetWidth,writeUsModal.classList.add("modal-error"))}),writeUsClose.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.remove("modal-show"),writeUsModal.classList.remove("modal-error"),feedbackName.setAttribute("required",""),feedbackEmail.setAttribute("required",""),feedbackText.setAttribute("required","")});var modalMapLink=document.querySelector(".contacts-map"),mapModal=document.querySelector(".modal-map"),mapModalClose=mapModal.querySelector(".map-close");modalMapLink.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal-show")}),mapModalClose.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapModal.classList.contains("modal-show")&&mapModal.classList.remove("modal-show"),writeUsModal.classList.contains("modal-show")&&(writeUsModal.classList.remove("modal-show"),writeUsModal.classList.remove("modal-error")))});